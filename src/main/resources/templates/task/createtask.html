<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head th:replace="fragments/head.html(currentPage='new task')"></head> <!-- custom title !-->
<head th:replace="fragments/head.html(customCSS='/stylesheets/placeholder.css')"></head> <!-- custom CSS !-->
<header th:replace="fragments/header.html(currentPage='new task')"></header>
<body>
<main>

    <p>new task</p>
    <p th:text="${projectID}"></p>
    <section>

        <form action="/createtask" method="post" id="taskcreation">

            <section> <!-- task input -->
                <label for="title">Title: </label>
                <input required type="text" name="title" id="title" placeholder="Titel goes here">
                <br>
                <label for="description">Description: </label>
                <input required type="text" name="description" id="description" placeholder="Description">
                <br>
                <label for="deadline">Deadline: </label>
                <input required type="date" name="deadline" id="deadline">
                <br>
                <input type="hidden" name="projectID" th:value="${projectID}">
                <input type="button" id="btnsubmit" onclick="haveUsersBeenAdded()" value="Submit">
            </section>

            <section> <!-- list of users associated with project -->
                <input type="text" id="myInput" onkeyup="filterSearch()" placeholder="search for user">
                <h2>Users available for task</h2>
                <ul id="myUL">
                    <div th:each="projectUsers : ${projectUsers}">
                        <li class="moveWorker">
                            <a href="#">
                                <input type="hidden" name="username" th:value="${projectUsers.getUsername}" disabled>
                                <div id="username" th:text="${projectUsers.getUsername}"></div>
                                <div id="firstname" th:text="${projectUsers.getFirstname}"></div>
                                <div id="lastname" th:text="${projectUsers.getLastname}"></div>
                                <div id="role" th:text="${projectUsers.getRole}"></div>
                            </a>
                        </li>
                    </div>
                </ul>
            </section>

            <section> <!-- Selected users for task -->
                <h2>Users added to task</h2>
                <ul id="assignedUsers"></ul>
            </section>

        </form>

    </section>

</main>

<footer th:replace="fragments/footer.html"></footer>
<script th:src="@{/scripts/filtersearch.js}"></script>
<script th:src="@{/scripts/moveitem.js}"></script>
<script th:src="@{/scripts/createtask.js}"></script>
</body>
</html>